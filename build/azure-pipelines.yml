# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- main

pool:
  vmImage: ubuntu-latest

variables:
- name : project
  value: 'iVectorOne-Search-Api'
- name : testProject
  value: 'iVectorOne-Search-Api-BuildTests'
- name: buildPlatform
  value: 'Any CPU'
- name: buildConfiguration
  value: 'Release'
# - name:  majorVersion
#   value: '2'
- name:  appVersion
  value : '1.0.0.2'
  
stages:
- stage: Build
  displayName: "Build"
steps:


  - task: PowerShell@2
    displayName: 'Set Version Number'
    inputs:
      targetType: 'inline'
      script: 
        Write-Host "Build Stage"

- stage: IntegrationTests
  displayName: "Integration Tests"
  dependsOn: Build

- stage: DeployStage
  displayName: "Deploy Stage"
  dependsOn: IntegrationTests
